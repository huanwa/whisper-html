<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   FreeTTS - Speech to Text
  </title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
            font-family: 'Inter', sans-serif;
        }

        /* 调整 nav 的主体样式 */
nav#menu {
  margin-top: 10px; /* 增加距离顶部的距离 */
  font-size: 1rem; /* 控制文字大小 */
}

/* 调整链接的行高和间距 */
nav#menu a {
  line-height: 2.2; /* 调整行高 */
  margin-bottom: 10px; /* 调整每个项目的间距 */
}

/* 调整图标和文本之间的间距 */
nav#menu i {
  margin-right: 18px; /* 原来设定可能是 3，现在调整回去 */
}

/* 针对所有链接设置基础样式 */
nav#menu a {
  display: block; /* 让链接填充整个父容器的宽度 */
  padding: 10px 15px; /* 设置内边距 */
  color: #474747; /* 设置默认文字颜色 */
  background-color: #ffffff; /* 默认背景色设为白色 */
  text-decoration: none; /* 去除下划线 */
  transition: background-color 0.3s ease; /* 背景色变化加上过渡动画 */
}

/* 当鼠标悬停时改变背景颜色 */
nav#menu a:hover {
  background-color: #e0e0e0; /* 鼠标悬停时的背景色 */
}

  </style>


 </head>
 <body class="bg-gray-100 flex flex-col lg:flex-row">
   <div class="w-full lg:w-1/5 bg-white p-6 lg:h-screen lg:fixed">
       <div class="mb-8 flex justify-between items-center lg:block">
           <h1 class="text-2xl font-bold text-green-600">
               Eyv Ai
           </h1>
           <button class="lg:hidden text-gray-700" id="menu-toggle">
               <i class="fas fa-bars"></i>
           </button>
       </div>
       <nav class="space-y-4 hidden lg:block" id="menu">
      <a class="flex items-center text-gray-700 hover:text-black" href="#" id="tabFileToText">
       <i class="fas fa-volume-up mr-3"></i> File to Text
      </a>
      <a class="flex items-center text-gray-700 hover:text-black" href="#" id="tabYouTubeToText">
       <i class="fas fa-microphone-alt mr-3"></i> YouTube to Text
      </a>
      <a class="flex items-center text-gray-700 hover:text-black" href="#" id="tabSetting">
       <i class="fas fa-sliders-h mr-3"></i> Setting
      </a>
      <a class="flex items-center text-gray-700 hover:text-black" href="#" id="tabAudioCutter">
       <i class="fas fa-cut mr-3"></i> Audio Cutter
      </a>
      <a class="flex items-center text-gray-700 hover:text-black" href="#" id="tabAudioJoiner">
       <i class="fas fa-compress-arrows-alt mr-3"></i> Audio Joiner
      </a>
  </nav>
  </div>

  <div class="content w-full lg:w-12/5 flex flex-col items-center justify-center">
   <div id="content">
          <!-- 这里动态加载选项卡对应的内容 -->
      </div>
  </div>


  <script>
   document.getElementById('menu-toggle').addEventListener('click', function () {
            var menu = document.getElementById('menu');
            var extraMenu = document.getElementById('extra-menu');
            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
                extraMenu.classList.remove('hidden');
            } else {
                menu.classList.add('hidden');
                extraMenu.classList.add('hidden');
            }
        });
  </script>



<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    // 定义一个函数来根据传入的路径加载内容并更新URL
    function loadContentAndPushState(path, title, url) {
        $("#content").load(path); // 加载相应内容
        document.title = title; // 可选：也可以设置页面标题
        history.pushState({path: path}, '', url); // 更新浏览器的URL而不重新加载页面
    }

    // 为每个标签绑定点击事件
    $('#tabFileToText').click(function(event) {
        event.preventDefault();
        loadContentAndPushState('/getContentForFileToText', 'File to Text', '/fileToText');
    });

    $('#tabYouTubeToText').click(function(event) {
        event.preventDefault();
        loadContentAndPushState('/getContentForYouTubeToText', 'YouTube to Text', '/youtubeToText');
    });

    $('#tabSetting').click(function(event) {
        event.preventDefault();
        loadContentAndPushState('/getContentForSetting', 'Setting', '/setting');
    });

    $('#tabAudioCutter').click(function(event) {
        event.preventDefault();
        loadContentAndPushState('/getContentForAudioCutter', 'Audio Cutter', '/audioCutter');
    });

    $('#tabAudioJoiner').click(function(event) {
        event.preventDefault();
        loadContentAndPushState('/getContentForAudioJoiner', 'Audio Joiner', '/audioJoiner');
    });

    // 默认加载第一个标签的内容
    loadContentAndPushState('/getContentForFileToText', 'File to Text', '/fileToText');

    // 监听浏览器历史记录的变化
    window.onpopstate = function(event) {
        // 如果历史记录有相应的路径，则加载；否则，默认加载
        if(event.state !== null) {
            $("#content").load(event.state.path);
        } else {
            // 这里可以根据需要加载一个默认内容
        }
    };
});
</script>

<script>
   document.addEventListener("DOMContentLoaded", function() {
     const fileInput = document.getElementById('file-upload');
     const form = document.getElementById('upload-form');
   
     fileInput.addEventListener('change', function() {
       // 判断是否有文件被选中
       if (this.files.length > 0) {
         const formData = new FormData(form);
         fetch('/upload', {
           method: 'POST',
           body: formData,
         })
         .then(response => {
           if (!response.ok) {
             throw new Error('Network response was not ok.');
           }
           return response.json();
         })
         .then(data => {
           console.log('Success:', data);
           alert('File uploaded successfully!');
         })
         .catch((error) => {
           console.error('Error:', error);
           alert('Error uploading file!');
         });
       }
     });
   
     // 我们这里监听label点击事件触发input的点击事件是多余的，因为label的for已经指向input id
     // 所以点击label会自动触发input的点击事件
   });
   </script>



 </body>
</html>
